# ‡∏ú‡∏π‡∏Å root widget ‡∏ô‡∏µ‡πâ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏•‡∏≤‡∏™ Calculator ‡πÉ‡∏ô cal.py
<Calculator>:
    id: calculator

    # ‡∏ú‡∏π‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ display ‡πÅ‡∏•‡∏∞ result
    # ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ cal.py ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢ self.display / self.result
    display: label
    result: labelResult

    # layout ‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á
    BoxLayout:
        orientation: 'vertical'

        # -----------------------------
        # ‡πÅ‡∏ñ‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ö‡∏ô)
        # -----------------------------
        Label:
            id: labelResult

            # ‡∏ß‡∏≤‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á Label
            canvas.before:
                Color:
                    rgb: .13, .17, .18, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

            halign: 'center'
            valign: 'center'
            font_size: 40
            text_size: 550, None
            size_hint: 1, .15
            shorten: True
            shorten_from: 'right'

        # -----------------------------
        # ‡πÅ‡∏ñ‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏¥‡∏°‡∏û‡πå (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏•‡πà‡∏≤‡∏á)
        # -----------------------------
        Label:
            id: label

            canvas.before:
                Color:
                    rgb: .13, .17, .18, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

            halign: 'right'
            valign: 'center'
            font_size: 90
            text_size: 550, None
            size_hint: 1, .35
            shorten: True
            shorten_from: 'right'

        # -----------------------------
        # ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î (GridLayout)
        # -----------------------------
        GridLayout:
            cols: 4
            spacing: 1

            canvas.before:
                Color:
                    rgb: .3, .34, .36, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

            # -------- ‡∏õ‡∏∏‡πà‡∏° ( --------
            Button:
                text: '('
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1

                # ‡πÉ‡∏ä‡πâ triggerD ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏ö
                on_press: app.triggerD = True
                on_press:
                    if (not app.trigger): label.text += self.text
                    if (app.triggerC): app.triggerC = False
                    if (app.trigger): label.text += '*' + self.text
                    if (app.trigger): app.trigger = False

            # -------- ‡∏õ‡∏∏‡πà‡∏° ) --------
            Button:
                text: ')'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press:
                    if (app.triggerD): label.text += self.text
                    if (app.triggerD): app.triggerD = False

            # -------- ‡∏õ‡∏∏‡πà‡∏° % --------
            Button:
                text: '%'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press:
                    if (app.trigger): label.text += self.text
                    if (app.trigger): app.triggerC = False
                    if (app.trigger): app.trigger = False

            # -------- ‡∏õ‡∏∏‡πà‡∏° C / CE --------
            GridLayout:
                rows: 2
                spacing: 1

                # ‡∏õ‡∏∏‡πà‡∏° C = ‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                Button:
                    text: 'C'
                    font_size: 30
                    background_normal: ''
                    background_color: .2, .24, .26, 1
                    on_press: calculator.delete(label.text)
                    on_press: app.trigger = False
                    on_press: app.triggerD = False

                # ‡∏õ‡∏∏‡πà‡∏° CE = ‡∏•‡∏ö‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß
                Button:
                    text: 'CE'
                    font_size: 30
                    background_normal: ''
                    background_color: .2, .24, .26, 1
                    on_press: calculator.del1(label.text)


            # >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
            # üü¢ ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà (‡πÅ‡∏Ñ‡∏õ‡∏£‡∏π‡∏õ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏Æ‡πÑ‡∏•‡∏ó‡πå‡∏•‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö)
            # -----------------------------
            # -------- ‡∏õ‡∏∏‡πà‡∏° 7, 8, 9, / --------
            Button:
                text: '7'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            Button:
                text: '8'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            Button:
                text: '9'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            Button:
                text: '/'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press:
                    if (app.trigger): label.text += self.text
                    if (app.trigger): app.triggerC = False
                    if (app.trigger): app.trigger = False

            # -------- ‡∏õ‡∏∏‡πà‡∏° 4, 5, 6, * --------
            Button:
                text: '4'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            Button:
                text: '5'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            Button:
                text: '6'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            Button:
                text: '*'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press:
                    if (app.trigger): label.text += self.text
                    if (app.trigger): app.triggerC = False
                    if (app.trigger): app.trigger = False
            # üü¢ ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà
            # <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


            # -------- ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç --------
            Button:
                text: '1'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            Button:
                text: '2'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            Button:
                text: '3'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            # -------- ‡∏õ‡∏∏‡πà‡∏° - --------
            Button:
                text: '-'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press:
                    if (app.trigger): label.text += self.text
                    if (app.trigger): app.triggerC = False
                    if (app.trigger): app.trigger = False

            # -------- ‡∏õ‡∏∏‡πà‡∏° 0 --------
            Button:
                text: '0'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press: app.trigger = True
                on_press:
                    if (app.triggerC): label.text = self.text
                    else: label.text += self.text
                    if (app.triggerC): app.triggerC = False

            # -------- ‡∏õ‡∏∏‡πà‡∏° . --------
            Button:
                text: '.'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press:
                    if (app.trigger): label.text += self.text
                    if (app.trigger): app.triggerC = False
                    if (app.trigger): app.trigger = False

            # -------- ‡∏õ‡∏∏‡πà‡∏° = --------
            Button:
                text: '='
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press:
                    if (app.trigger): calculator.calc(label.text)
                    if (app.trigger): calculator.calc(labelResult.text)
                    if (app.trigger): app.triggerC = True

            # -------- ‡∏õ‡∏∏‡πà‡∏° + --------
            Button:
                text: '+'
                font_size: 35
                background_normal: ''
                background_color: .2, .24, .26, 1
                on_press:
                    if (app.trigger): label.text += self.text
                    if (app.trigger): app.triggerC = False
                    if (app.trigger): app.trigger = False